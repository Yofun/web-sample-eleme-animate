<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <title>饿了么外卖</title>
    <link rel="stylesheet" href="./css/normalize.css">
    <link rel="stylesheet" href="./css/fontawesome/css/font-awesome.css">
    <link rel="stylesheet" href="./css/index.css">
    <script src="./libs/flexible.js"></script>
</head>

<body>
    <header><i class="fa fa-angle-left" aria-hidden="true"></i> <span>饿了么外卖</span></header>
    <section class="ele_main">
        <div class="ele_head">
            <div class="ele_head_statusbar"></div>
            <!-- url("https://p0.meituan.net/waimaipoi/8aa9811cab4f43d4c84758786b3c0562251868.png") -->
            <div class="ele_head_avatar">
                <div class="avatar"></div>
                <div class="info">
                    <h3>85°C（星塘街店）</h3>
                    <p>蜂鸟专送 / 34分钟送达 / 配送费￥5</p>
                    <p>公告：新店开张！感谢惠顾，如有特殊需求，请联系电话1123182483247...谢谢您得惠顾，期待与您的下次相遇！</p>
                </div>
            </div>
            <!-- 说明 -->
            <p class="ele_head_des"><i class="fa fa-user" aria-hidden="true"></i>新用户下单立减17.0元(不与其他活动分享)</p>
        </div>
        <div class="ele_body">
            <!-- 商品 评价 tab -->
            <div class="ele_main_tab">
                <div class="active">商品</div>
                <div>评价</div>
            </div>
            <div class="ele_main_box">
                <div class="ele_main_menu">
                    <ul>
                        <li class="active">热销</li>
                        <li>优惠</li>
                        <li>超值套餐</li>
                        <li>港式烧味</li>
                    </ul>
                </div>
                <ul class="ele_main_goods">
                    <li>
                        <div>
                            <img src="https://p0.meituan.net/wmproduct/68f2db904c9e34f04e9fefe83582bbc581668.jpg@150w_150h_80Q_0e_1l.webp"
                                alt="">
                        </div>
                        <div class="ele_main_goods_content">
                            <div class="title">外卖包装费</div>
                            <div>每单仅需购买一件</div>
                            <div><span>月售1000+</span> <span>赞48</span></div>
                            <div><span style="color: #fb4e44;font-size: 0.48rem;">￥1</span> <span>/1人份</span></div>
                        </div>
                        <div class="ele_main_goods_add"><i class="fa fa-plus-circle" aria-hidden="true"></i></div>
                    </li>

                    <li>
                        <div>
                            <img src="https://p0.meituan.net/wmproduct/0e4b0573991454b0b1f3b958bb14b38c27020.jpg@150w_150h_80Q_0e_1l.webp"
                                alt="">
                        </div>
                        <div class="ele_main_goods_content">
                            <div class="title">阿华田冻心冰面包</div>
                            <div>主要成分：小麦粉，香芋，稀奶油，可可脂巧克力</div>
                            <div><span>月售1000+</span> <span>赞48</span></div>
                            <div><span style="color: #fb4e44;font-size: 0.48rem;">￥1</span> <span>/1人份</span></div>
                        </div>
                        <div class="ele_main_goods_add"><i class="fa fa-plus-circle" aria-hidden="true"></i></div>
                    </li>


                    <li>
                        <div>
                            <img src="https://p1.meituan.net/wmproduct/2a3e6cfeaea21ce7223546105f7bbce955134.jpg@150w_150h_80Q_0e_1l.webp"
                                alt="">
                        </div>
                        <div class="ele_main_goods_content">
                            <div class="title">阿华田狠冰蛋糕</div>
                            <div>主要成分：淡奶油，覆盆子果酱，鸡蛋，小麦粉</div>
                            <div><span>月售1000+</span> <span>赞48</span></div>
                            <div><span style="color: #fb4e44;font-size: 0.48rem;">￥1</span> <span>/1人份</span></div>
                        </div>
                        <div class="ele_main_goods_add"><i class="fa fa-plus-circle" aria-hidden="true"></i></div>
                    </li>


                    <li>
                        <div>
                            <img src="https://p0.meituan.net/wmproduct/3979bf8be7929567a99b7dc93b6564ab91689.jpg@150w_150h_80Q_0e_1l.webp"
                                alt="">
                        </div>
                        <div class="ele_main_goods_content">
                            <div class="title">藜麦吐司面包</div>
                            <div>主要成分：小麦粉，红藜麦，黄油，牛奶</div>
                            <div><span>月售1000+</span> <span>赞48</span></div>
                            <div><span style="color: #fb4e44;font-size: 0.48rem;">￥1</span> <span>/1人份</span></div>
                        </div>
                        <div class="ele_main_goods_add"><i class="fa fa-plus-circle" aria-hidden="true"></i></div>
                    </li>



                    <li>
                        <div>
                            <img src="https://p1.meituan.net/wmproduct/38dc95ce9bf2556ce91985eb6fb8ee5b25013.jpg@150w_150h_80Q_0e_1l.webp"
                                alt="">
                        </div>
                        <div class="ele_main_goods_content">
                            <div class="title">白甘蔗四季春(冷)</div>
                            <div>该品项仅供冷饮
                                主要成分：白甘蔗汁、四季春茶(不含马蹄粒)</div>
                            <div><span>月售1000+</span> <span>赞48</span></div>
                            <div><span style="color: #fb4e44;font-size: 0.48rem;">￥1</span> <span>/1人份</span></div>
                        </div>
                        <div class="ele_main_goods_add"><i class="fa fa-plus-circle" aria-hidden="true"></i></div>
                    </li>


                    <li>
                        <div>
                            <img src="https://p0.meituan.net/wmproduct/d62dfee114bd07718c613d6fe6f52da864894.jpg@150w_150h_80Q_0e_1l.webp"
                                alt="">
                        </div>
                        <div class="ele_main_goods_content">
                            <div class="title">阿华田记忆宝盒</div>
                            <div>主要成分：植脂奶油，鸡蛋，小麦粉，稀奶油</div>
                            <div><span>月售1000+</span> <span>赞48</span></div>
                            <div><span style="color: #fb4e44;font-size: 0.48rem;">￥1</span> <span>/1人份</span></div>
                        </div>
                        <div class="ele_main_goods_add"><i class="fa fa-plus-circle" aria-hidden="true"></i></div>
                    </li>



                    <li>
                        <div>
                            <img src="https://p0.meituan.net/wmproduct/9cd3aaf9764226fd272cc84a3bb16d1576831.jpg@150w_150h_80Q_0e_1l.webp"
                                alt="">
                        </div>
                        <div class="ele_main_goods_content">
                            <div class="title">阿华田脆层冰泡芙</div>
                            <div>主要成分：植脂奶油，鸡蛋，可可脂巧克力，牛奶</div>
                            <div><span>月售1000+</span> <span>赞48</span></div>
                            <div><span style="color: #fb4e44;font-size: 0.48rem;">￥1</span> <span>/1人份</span></div>
                        </div>
                        <div class="ele_main_goods_add"><i class="fa fa-plus-circle" aria-hidden="true"></i></div>
                    </li>


                    <li>
                        <div>
                            <img src="https://p1.meituan.net/wmproduct/4801e4d963a3c9063f6496a450456e93409374.jpg@150w_150h_80Q_0e_1l.webp"
                                alt="">
                        </div>
                        <div class="ele_main_goods_content">
                            <div class="title">凯萨大帝面包</div>
                            <div>主要成分：高筋小麦粉，甘蓝，培根，方腿丁，沙拉酱，芝士，蒜泥，白砂糖</div>
                            <div><span>月售1000+</span> <span>赞48</span></div>
                            <div><span style="color: #fb4e44;font-size: 0.48rem;">￥1</span> <span>/1人份</span></div>
                        </div>
                        <div class="ele_main_goods_add"><i class="fa fa-plus-circle" aria-hidden="true"></i></div>
                    </li>


                    <li>
                        <div>
                            <img src="https://p1.meituan.net/wmproduct/78e1c57c7a4815f69b35f01c7e970fcc296169.jpg@150w_150h_80Q_0e_1l.webp"
                                alt="">
                        </div>
                        <div class="ele_main_goods_content">
                            <div class="title">鲜奶吐司面包</div>
                            <div>主要成分：小麦粉，牛奶，鸡蛋</div>
                            <div><span>月售1000+</span> <span>赞48</span></div>
                            <div><span style="color: #fb4e44;font-size: 0.48rem;">￥1</span> <span>/1人份</span></div>
                        </div>
                        <div class="ele_main_goods_add"><i class="fa fa-plus-circle" aria-hidden="true"></i></div>
                    </li>


                    <li>
                        <div>
                            <img src="https://p0.meituan.net/wmproduct/42ad39725dea5bb12481525c982f21f981961.jpg@150w_150h_80Q_0e_1l.webp"
                                alt="">
                        </div>
                        <div class="ele_main_goods_content">
                            <div class="title">一颗柠檬茶(冷)</div>
                            <div>主要成分：红茶、白砂糖、黄柠檬、果糖、水</div>
                            <div><span>月售1000+</span> <span>赞48</span></div>
                            <div><span style="color: #fb4e44;font-size: 0.48rem;">￥1</span> <span>/1人份</span></div>
                        </div>
                        <div class="ele_main_goods_add"><i class="fa fa-plus-circle" aria-hidden="true"></i></div>
                    </li>
                </ul>
            </div>
        </div>
        <!-- 购物车 -->
        <div class="ele_car">
            <div class="ele_car_price">
                <div class="ele_car_icon"><i class="fa fa-shopping-cart" aria-hidden="true"></i></div>
                <div class="ele_car_pri">
                    <div class="price">￥110.78</div>
                    <div>配送费￥5</div>
                </div>
            </div>
            <div class="ele_car_pay">去支付</div>
        </div>
    </section>
</body>

</html>

<script>
    var buttons = document.getElementsByClassName('ele_main_goods_add')
    for (let i = 0; i < buttons.length; i++) {
        buttons[i].onclick = function () {
            let x = event.pageX - this.offsetWidth / 2;
            let y = event.pageY - this.offsetWidth / 2;
            // createBall01(x, y)
            createBall02(x, y)
        }
    }

    /**
        方法一：使用定位+transition的方式实现
    */
    function createBall01(left, top) {
        let bar = document.createElement('div');
        bar.style.position = 'absolute'
        bar.style.left = (left) + 'px'
        bar.style.top = (top) + 'px'
        bar.style.width = '0.533333rem'
        bar.style.height = '0.533333rem'
        bar.style.borderRadius = '50%'
        bar.style.backgroundColor = '#02b6fd'
        bar.style.transition = 'left .6s linear, top .6s cubic-bezier(0.5, -0.5, 1, 1)'

        document.body.appendChild(bar)
        // 添加动画属性
        setTimeout(() => {
            let target = document.querySelector('.ele_car_icon')
            bar.style.left = (target.offsetLeft + target.offsetWidth / 2) + 'px'
            bar.style.top = (target.offsetTop) + 'px'
        }, 0);

        /**
         * 动画结束后，删除自己
         */
        bar.ontransitionend = function () {
            this.remove()
        }
    }

    /**
    * 方法二：使用transform + transition的方式实现
    */
    function createBall02(x, y) {
        const bar = document.createElement('div')
        bar.style.position = 'absolute'
        bar.style.left = '0'
        bar.style.top = '0'
        bar.style.width = '0.533333rem'
        bar.style.height = '0.533333rem'
        bar.style.borderRadius = '50%'
        bar.style.backgroundColor = '#02b6fd'
        // transform
        bar.style.transform = 'translate(' + x + 'px,' + y + 'px)'
        bar.style.transition = 'transform .5s linear'


        document.body.appendChild(bar)
        // 添加动画属性
        setTimeout(() => {
            let target = document.querySelector('.ele_car_icon')
            let targetX = (target.offsetLeft + target.offsetWidth / 2)
            let targetY = (target.offsetTop)
            bar.style.transform = 'translate(' + targetX + 'px,' + targetY + 'px)'
        }, 0);

        /**
         * 动画结束后，删除自己
         */
        bar.ontransitionend = function () {
            this.remove()
        }

    }



</script>